[pytest]
# Only look under API tests by default
testpaths = apps/api/tests
# Add common options
addopts =
    -q
    --maxfail=1
    --disable-warnings
    --durations=10
    --strict-markers
    --cov=apps/api/blackletter_api
    --cov-report=term-missing
    --cov-report=xml:coverage-api.xml

# Prevent import-time side effects by adding API to pythonpath
pythonpath =
    .
    apps/api

# Markers documentation
markers =
    integration: marks tests as integration (deselect with '-m "not integration"')
    slow: marks tests as slow (deselect with '-m "not slow"')
