id: 1.1
epic: 1
title: Upload & Job Orchestration
status: draft
story: |
  As a user, I want to upload a contract file (PDF/DOCX) so that the system can process it and provide analysis.
acceptance_criteria:
  - POST /contracts accepts PDF/DOCX ≤10MB; returns job_id
  - GET /jobs/{id} returns status: queued|running|done|error (+ error reason)
  - On done, analysis record exists with filename, size, created_at
  - Latency budget: enqueue < 500ms server time
notes:
  - Virus/size checks server‑side; signed upload URL optional
tasks: []
dev_agent_record:
  proposed_tasks:
    - backend: Implement POST /api/contracts and GET /api/jobs/{id}
    - service: Add services/tasks.py with enqueue() via BackgroundTasks
    - storage: Persist source + metadata under .data/analyses/{analysis_id}
    - frontend: /new FileDrop, call upload, poll job, route on done
    - tests: API unit + integration for upload, polling, error paths
  decisions_needed:
    - Confirm BackgroundTasks for MVP; Celery in phase-2
    - Enforce 10MB limit server-side; clarify client pre-check
