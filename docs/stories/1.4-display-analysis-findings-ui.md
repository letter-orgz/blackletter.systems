id: 1.4
epic: 1
title: Display Analysis Findings UI
status: draft
story: |
  **As a** logged-in user,
  **I want** to view the detailed results of a specific analysis,
  **so that** I can understand the compliance findings for my contract.
acceptance_criteria:
  - Page `/analyses/[id]` fetches `GET /api/analyses/{id}` and `GET /api/analyses/{id}/findings`
  - Skeleton loader displays during data loading
  - Error handling for API failures with user-friendly messages
  - Header shows contract name and "Export Report" button
  - Verdict summary chips with counts and filtering functionality
  - Findings table with detector name, verdict, and evidence drawer
  - Evidence drawer displays snippet, rationale, and finding details
interfaces:
  - **API**: `GET /api/analyses/{id}` returns analysis metadata; `GET /api/analyses/{id}/findings` returns finding list
  - **UI**: `/analyses/[id]` page with `FindingsTable`, `VerdictSummary`, `EvidenceDrawer`, `SkeletonLoader` components
tasks: |
  - [ ] **Frontend Implementation**
    - [ ] Create `/analyses/[id]` page component
    - [ ] Implement React Query hooks for analyses and findings
    - [ ] Add skeleton loader component for loading states
    - [ ] Implement error boundary and error messaging
    - [ ] Build verdict summary chips with filtering
    - [ ] Integrate findings table and evidence drawer
  - [ ] **Testing**
    - [ ] Unit tests for data fetching hooks
    - [ ] UI tests for loading/error states
    - [ ] Integration tests for filtering functionality

### dev_spec

- Data fetching: Use React Query hooks for `GET /api/analyses/{id}` and `/findings`
- Loading states: Skeleton loader matching UI/UX spec
- Error handling: User-friendly error messages for API failures
- Filtering: Verdict chips filter findings table client-side
- Evidence drawer: Opens on finding row click, shows snippet/rationale

### qa_tests

- Data fetching: Success and error states handled correctly
- UI states: Skeleton loader during loading, error messages on failure
- Components: Header with contract name, verdict chips, findings table, evidence drawer
- Interactions: Verdict filtering, drawer open/close, export button

### artifacts

- Files: `web/app/analyses/[id]/page.tsx`, `web/components/VerdictSummary.tsx`, `web/components/SkeletonLoader.tsx`, hooks in `web/lib/`
