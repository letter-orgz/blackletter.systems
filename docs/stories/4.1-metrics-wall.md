id: 4.1
epic: 4
title: Metrics Wall (latency, tokens, %LLM, explainability)
status: draft
story: |
  As an administrator, I want to view a dashboard of key metrics for the application so that I can monitor its performance, costs, and reliability.
acceptance_criteria:
  - Capture and display p95 latency, tokens_per_doc, %docs_invoking_LLM
  - Explainability rate (findings with snippet+rule id)
  - Adminâ€‘only page
notes:
  - Backend service to collect and expose metrics data.
  - Frontend page (likely admin-only) to display metrics, possibly using charts.
  - Integration with the token ledger (Story 2.4) for token metrics.
  - Define how latency is measured (e.g., from job queue to completion).
tasks: []
dev_agent_record:
  proposed_tasks:
    - backend: Instrument API to record p95 latency and tokens_per_doc
    - backend: Collect %docs_invoking_LLM and explainability rate
    - backend: Endpoint to aggregate and expose metrics
    - frontend: Admin-only dashboard to display metrics
    - tests: Metric collection and role-restricted access
